{% extends "base.html" %}
{% load staticfiles %}

{% block head_js %}
<script type="text/javascript" src="{% static 'js/blogposts.js' %}"></script>
{% endblock %}

{% block content %}
<div>
    <div class="container">
        <div class="row">
            <h1>Build Blog
                <p id="logo" class="lead">Stories from the PC Builder</p>
            </h1>
        </div>
    </div>
</div>
<button class="btn btn-default" onclick="location.href='{% url 'new_post' %}'">New Post</button>
{% for post in posts %}
<div class="row">
    <hr>
    <div class="col-md-2 col-sm-3 text-center">
        <img src="/media/{{ post.image }}" onerror="alternativeImage(this);" style="width:100px; height: 100px; background-colour: #12ABB2; color: #ffffff;"
            class="img-circle">
    </div>
    <div class="col-md-10 col-sm-9">
        <h2>{{ post.title }}</h2>
        <div class="row">
            <div class="col-xs-9">
                <p>{{ post.content|truncatewords:30 }}</p>
                <p><button class="btn btn-default" onclick="location.href={{ post.id }}">Read More</button></p>
                <p>{{ post.published_date }} | <strong>Views:</strong> {{ post.views }} | <strong>Tags:</strong> {{ post.tag }}</p>
            </div>
        </div>
    </div>
</div>
{% endfor %}
{% endblock %}

